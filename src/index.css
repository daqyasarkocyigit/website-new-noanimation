@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-first approach */
@layer base {
  html {
    -webkit-tap-highlight-color: transparent;
    scroll-behavior: smooth;
  }

  body {
    @apply text-base antialiased touch-manipulation overscroll-none;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Optimize touch targets */
@layer components {
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  .btn-primary {
    @apply touch-target px-4 py-2 text-sm md:text-base rounded-lg bg-brand-red-600 text-white font-medium 
    transition-all duration-200 hover:bg-brand-red-700 active:scale-95 
    disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100;
  }

  .btn-secondary {
    @apply touch-target px-4 py-2 text-sm md:text-base rounded-lg border border-brand-red-400 
    text-brand-red-600 font-medium transition-all duration-200 
    hover:bg-brand-red-50 active:scale-95
    disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100;
  }

  .nav-link {
    @apply touch-target relative text-gray-700 hover:text-brand-red-600 transition-colors duration-200;
  }

  .card-hover {
    @apply transition-all duration-200 hover:shadow-lg hover:-translate-y-1 active:scale-[0.98];
  }
}

/* Performance optimizations */
@layer utilities {
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .no-tap-highlight {
    -webkit-tap-highlight-color: transparent;
  }

  .momentum-scroll {
    -webkit-overflow-scrolling: touch;
  }
}

/* Optimize images */
img {
  @apply w-full h-auto;
  content-visibility: auto;
}

/* Reduce motion if preferred */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Enhanced touch feedback */
@media (hover: none) {
  .btn-primary:active,
  .btn-secondary:active,
  .card-hover:active {
    @apply transform scale-[0.98] transition-transform duration-75;
  }
}

/* Optimize scrollbar */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 rounded-full hover:bg-gray-400 transition-colors;
}

/* Loading states */
.skeleton {
  @apply animate-pulse bg-gray-200 rounded;
}

/* Aspect ratio containers */
.aspect-video {
  @apply relative pb-[56.25%];
}

.aspect-video > * {
  @apply absolute inset-0 w-full h-full object-cover;
}

/* Custom animations for data engineering visual */
@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes gridMove {
  0% { transform: translate(0, 0); }
  100% { transform: translate(50px, 50px); }
}

@keyframes stream {
  0%, 100% { opacity: 0; transform: translateY(0); }
  50% { opacity: 1; transform: translateY(20px); }
}

@keyframes float {
  0%, 100% { transform: translate(0, 0); opacity: 0; }
  50% { transform: translate(30px, -30px); opacity: 0.6; }
}